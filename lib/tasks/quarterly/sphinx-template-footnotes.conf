source footnotes%{v}
{
  type = xmlpipe2

  xmlpipe_command = cat /var/www/cbapi%{v}/shared/data/cbeta-xml-for-sphinx/footnotes.xml

  #xmlpipe_field = content
  xmlpipe_field_string    = content

  # xmlpipe2 attribute declaration
  xmlpipe_attr_multi  = category_ids
  xmlpipe_attr_multi  = creator_id

  xmlpipe_attr_string = category
  xmlpipe_attr_string = canon
  xmlpipe_attr_string = vol
  xmlpipe_attr_string = file
  xmlpipe_attr_string = work
  xmlpipe_attr_string = title
  xmlpipe_attr_string = dynasty
  xmlpipe_attr_uint   = time_from
  xmlpipe_attr_uint   = time_to
  xmlpipe_attr_string = creators
  xmlpipe_attr_string = creators_with_id
  xmlpipe_attr_string = lb
  xmlpipe_attr_string = n
  xmlpipe_attr_uint   = juan
}

index footnotes%{v}
{
  source      = footnotes%{v}
  path = /var/lib/sphinxsearch/data%{v}-footnotes/cbeta
  charset_table = 0..9, english, U+3000..U+2FA1F
  ngram_len    = 1
  ngram_chars = U+3000..U+2FA1F
}